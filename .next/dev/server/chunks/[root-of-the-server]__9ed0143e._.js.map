{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 64, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/lib/prisma.ts"],"sourcesContent":["import { PrismaClient } from '@prisma/client'\nimport { PrismaPg } from '@prisma/adapter-pg'\n\nconst globalForPrisma = globalThis as unknown as {\n  prisma: PrismaClient | undefined\n}\n\nconst adapter = new PrismaPg({\n  connectionString: process.env.DATABASE_URL!,\n})\n\nexport const prisma =\n  globalForPrisma.prisma ??\n  new PrismaClient({ adapter })\n\nif (process.env.NODE_ENV !== 'production') globalForPrisma.prisma = prisma\n"],"names":[],"mappings":";;;;AAAA;AACA;;;;;;;AAEA,MAAM,kBAAkB;AAIxB,MAAM,UAAU,IAAI,yKAAQ,CAAC;IAC3B,kBAAkB,QAAQ,GAAG,CAAC,YAAY;AAC5C;AAEO,MAAM,SACX,gBAAgB,MAAM,IACtB,IAAI,6IAAY,CAAC;IAAE;AAAQ;AAE7B,wCAA2C,gBAAgB,MAAM,GAAG"}},
    {"offset": {"line": 91, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/app/api/admin/relatorios/turma/%5BturmaId%5D/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from 'next/server';\nimport { prisma } from '@/lib/prisma';\n\nexport async function GET(\n  request: NextRequest,\n  { params }: { params: Promise<{ turmaId: string }> }\n) {\n  try {\n    const { turmaId } = await params;\n    \n    const searchParams = request.nextUrl.searchParams;\n    const mes = Number(searchParams.get('mes'));\n    const ano = Number(searchParams.get('ano'));\n\n    const alunos = await prisma.aluno.findMany({\n      where: { turmaId },\n      include: {\n        avaliacoes: {\n          where: {\n            mes_referencia: mes,\n            ano_referencia: ano,\n            status: 'CONCLUIDA',\n          },\n        },\n      },\n    });\n\n    const comparacao = alunos\n      .filter((aluno) => aluno.avaliacoes.length > 0)\n      .map((aluno) => ({\n        nome: aluno.nome,\n        score: aluno.avaliacoes[0].score_total,\n      }));\n\n    return NextResponse.json({ comparacao });\n  } catch (error) {\n    console.error('Erro ao gerar relat√≥rio da turma:', error);\n    return NextResponse.json({ error: 'Erro interno' }, { status: 500 });\n  }\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;;;;;AAEO,eAAe,IACpB,OAAoB,EACpB,EAAE,MAAM,EAA4C;IAEpD,IAAI;QACF,MAAM,EAAE,OAAO,EAAE,GAAG,MAAM;QAE1B,MAAM,eAAe,QAAQ,OAAO,CAAC,YAAY;QACjD,MAAM,MAAM,OAAO,aAAa,GAAG,CAAC;QACpC,MAAM,MAAM,OAAO,aAAa,GAAG,CAAC;QAEpC,MAAM,SAAS,MAAM,yHAAM,CAAC,KAAK,CAAC,QAAQ,CAAC;YACzC,OAAO;gBAAE;YAAQ;YACjB,SAAS;gBACP,YAAY;oBACV,OAAO;wBACL,gBAAgB;wBAChB,gBAAgB;wBAChB,QAAQ;oBACV;gBACF;YACF;QACF;QAEA,MAAM,aAAa,OAChB,MAAM,CAAC,CAAC,QAAU,MAAM,UAAU,CAAC,MAAM,GAAG,GAC5C,GAAG,CAAC,CAAC,QAAU,CAAC;gBACf,MAAM,MAAM,IAAI;gBAChB,OAAO,MAAM,UAAU,CAAC,EAAE,CAAC,WAAW;YACxC,CAAC;QAEH,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE;QAAW;IACxC,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,qCAAqC;QACnD,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAe,GAAG;YAAE,QAAQ;QAAI;IACpE;AACF"}}]
}