{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 64, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/lib/prisma.ts"],"sourcesContent":["import { PrismaClient } from '@prisma/client'\nimport { PrismaPg } from '@prisma/adapter-pg'\n\nconst globalForPrisma = globalThis as unknown as {\n  prisma: PrismaClient | undefined\n}\n\nconst adapter = new PrismaPg({\n  connectionString: process.env.DATABASE_URL!,\n})\n\nexport const prisma =\n  globalForPrisma.prisma ??\n  new PrismaClient({ adapter })\n\nif (process.env.NODE_ENV !== 'production') globalForPrisma.prisma = prisma\n"],"names":[],"mappings":";;;;AAAA;AACA;;;;;;;AAEA,MAAM,kBAAkB;AAIxB,MAAM,UAAU,IAAI,yKAAQ,CAAC;IAC3B,kBAAkB,QAAQ,GAAG,CAAC,YAAY;AAC5C;AAEO,MAAM,SACX,gBAAgB,MAAM,IACtB,IAAI,6IAAY,CAAC;IAAE;AAAQ;AAE7B,wCAA2C,gBAAgB,MAAM,GAAG"}},
    {"offset": {"line": 95, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/lib/auth.ts"],"sourcesContent":["import bcrypt from 'bcryptjs';\nimport { SignJWT, jwtVerify } from 'jose';\nimport { cookies } from 'next/headers';\n\nconst JWT_SECRET = process.env.JWT_SECRET;\n\nif (!JWT_SECRET) {\n  throw new Error(\n    'JWT_SECRET environment variable is not set. ' +\n    'Please configure it before starting the application.'\n  );\n}\n\nexport interface JWTPayload {\n  userId: string;\n  email: string;\n  perfil: 'ADMIN' | 'MODERADOR';\n}\n\nexport async function hashPassword(password: string): Promise<string> {\n  return bcrypt.hash(password, 10);\n}\n\nexport async function verifyPassword(\n  password: string,\n  hashedPassword: string\n): Promise<boolean> {\n  return bcrypt.compare(password, hashedPassword);\n}\n\nexport async function signToken(payload: JWTPayload): Promise<string> {\n  const secret = new TextEncoder().encode(JWT_SECRET);\n  const token = await new SignJWT(payload as Record<string, unknown>)\n    .setProtectedHeader({ alg: 'HS256' })\n    .setExpirationTime('7d')\n    .sign(secret);\n  return token;\n}\n\nexport async function verifyToken(token: string): Promise<JWTPayload | null> {\n  try {\n    const secret = new TextEncoder().encode(JWT_SECRET);\n    const { payload } = await jwtVerify(token, secret);\n    return payload as unknown as JWTPayload;\n  } catch {\n    return null;\n  }\n}\n\nexport async function setAuthCookie(token: string) {\n  const cookieStore = await cookies();\n  cookieStore.set('auth-token', token, {\n    httpOnly: true,\n    secure: process.env.NODE_ENV === 'production',\n    sameSite: 'lax',\n    maxAge: 60 * 60 * 24 * 7, // 7 days\n    path: '/',\n  });\n}\n\nexport async function removeAuthCookie() {\n  const cookieStore = await cookies();\n  cookieStore.delete('auth-token');\n}\n\nexport async function getAuthToken(): Promise<string | undefined> {\n  const cookieStore = await cookies();\n  return cookieStore.get('auth-token')?.value;\n}\n\nexport async function getUserFromToken(request?: any): Promise<JWTPayload | null> {\n  let token = await getAuthToken();\n  \n  if (!token && request) {\n    const authHeader = request.headers?.get?.('authorization') || request.headers?.['authorization'];\n    if (authHeader?.startsWith('Bearer ')) {\n      token = authHeader.slice(7);\n    }\n  }\n  \n  if (!token) return null;\n  return verifyToken(token);\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAAA;AACA;AAAA;AACA;;;;AAEA,MAAM,aAAa,QAAQ,GAAG,CAAC,UAAU;AAEzC,IAAI,CAAC,YAAY;IACf,MAAM,IAAI,MACR,iDACA;AAEJ;AAQO,eAAe,aAAa,QAAgB;IACjD,OAAO,8IAAM,CAAC,IAAI,CAAC,UAAU;AAC/B;AAEO,eAAe,eACpB,QAAgB,EAChB,cAAsB;IAEtB,OAAO,8IAAM,CAAC,OAAO,CAAC,UAAU;AAClC;AAEO,eAAe,UAAU,OAAmB;IACjD,MAAM,SAAS,IAAI,cAAc,MAAM,CAAC;IACxC,MAAM,QAAQ,MAAM,IAAI,kKAAO,CAAC,SAC7B,kBAAkB,CAAC;QAAE,KAAK;IAAQ,GAClC,iBAAiB,CAAC,MAClB,IAAI,CAAC;IACR,OAAO;AACT;AAEO,eAAe,YAAY,KAAa;IAC7C,IAAI;QACF,MAAM,SAAS,IAAI,cAAc,MAAM,CAAC;QACxC,MAAM,EAAE,OAAO,EAAE,GAAG,MAAM,IAAA,sKAAS,EAAC,OAAO;QAC3C,OAAO;IACT,EAAE,OAAM;QACN,OAAO;IACT;AACF;AAEO,eAAe,cAAc,KAAa;IAC/C,MAAM,cAAc,MAAM,IAAA,4IAAO;IACjC,YAAY,GAAG,CAAC,cAAc,OAAO;QACnC,UAAU;QACV,QAAQ,oDAAyB;QACjC,UAAU;QACV,QAAQ,KAAK,KAAK,KAAK;QACvB,MAAM;IACR;AACF;AAEO,eAAe;IACpB,MAAM,cAAc,MAAM,IAAA,4IAAO;IACjC,YAAY,MAAM,CAAC;AACrB;AAEO,eAAe;IACpB,MAAM,cAAc,MAAM,IAAA,4IAAO;IACjC,OAAO,YAAY,GAAG,CAAC,eAAe;AACxC;AAEO,eAAe,iBAAiB,OAAa;IAClD,IAAI,QAAQ,MAAM;IAElB,IAAI,CAAC,SAAS,SAAS;QACrB,MAAM,aAAa,QAAQ,OAAO,EAAE,MAAM,oBAAoB,QAAQ,OAAO,EAAE,CAAC,gBAAgB;QAChG,IAAI,YAAY,WAAW,YAAY;YACrC,QAAQ,WAAW,KAAK,CAAC;QAC3B;IACF;IAEA,IAAI,CAAC,OAAO,OAAO;IACnB,OAAO,YAAY;AACrB"}},
    {"offset": {"line": 179, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/lib/pontuacao.ts"],"sourcesContent":["interface RegraPontuacaoFaixas {\n  tipo: 'faixas';\n  faixas: Array<{\n    ate?: number;\n    acima?: number;\n    pontos: number;\n  }>;\n}\n\ninterface RegraPontuacaoSimNao {\n  tipo: 'sim_nao';\n  sim: number;\n  nao: number;\n}\n\ninterface RegraPontuacaoMapa {\n  tipo: 'mapa';\n  mapa: Record<string, number>;\n}\n\ninterface RegraPontuacaoAlternativaCorreta {\n  tipo: 'alternativa_correta';\n  correta: string;\n  pontos_correta: number;\n  pontos_errada: number;\n}\n\ntype RegraPontuacao =\n  | RegraPontuacaoFaixas\n  | RegraPontuacaoSimNao\n  | RegraPontuacaoMapa\n  | RegraPontuacaoAlternativaCorreta;\n\nexport function calcularPontuacaoItem(\n  valor_bruto: string,\n  regra_pontuacao_json: string\n): number {\n  try {\n    const regra: RegraPontuacao = JSON.parse(regra_pontuacao_json);\n\n    switch (regra.tipo) {\n      case 'faixas': {\n        const valor_numerico = parseFloat(valor_bruto);\n        if (isNaN(valor_numerico)) return 0;\n\n        for (const faixa of regra.faixas) {\n          if (faixa.ate !== undefined && valor_numerico <= faixa.ate) {\n            return faixa.pontos;\n          }\n          if (faixa.acima !== undefined && valor_numerico > faixa.acima) {\n            return faixa.pontos;\n          }\n        }\n        return 0;\n      }\n\n      case 'sim_nao': {\n        const valor = valor_bruto.toLowerCase().trim();\n        if (valor === 'sim' || valor === 's' || valor === 'true' || valor === '1') {\n          return regra.sim;\n        }\n        return regra.nao;\n      }\n\n      case 'mapa': {\n        return regra.mapa[valor_bruto] ?? 0;\n      }\n\n      case 'alternativa_correta': {\n        const valor = valor_bruto.toUpperCase().trim();\n        return valor === regra.correta.toUpperCase()\n          ? regra.pontos_correta\n          : regra.pontos_errada;\n      }\n\n      default:\n        console.error('Tipo de regra de pontuação desconhecido:', (regra as any).tipo);\n        return 0;\n    }\n  } catch (error) {\n    console.error('Erro ao calcular pontuação:', error);\n    return 0;\n  }\n}\n\ninterface RespostaComDominio {\n  dominioId: string;\n  pontuacao_item: number;\n}\n\ninterface ScoresPorDominio {\n  [dominioId: string]: {\n    total: number;\n    pontuacao_maxima: number;\n    score_0a10: number;\n  };\n}\n\nexport function calcularScoresPorDominio(\n  respostas: RespostaComDominio[],\n  dominios: Array<{ id: string; pontuacao_maxima: number }>\n): ScoresPorDominio {\n  const scores: ScoresPorDominio = {};\n\n  dominios.forEach((dominio) => {\n    scores[dominio.id] = {\n      total: 0,\n      pontuacao_maxima: dominio.pontuacao_maxima,\n      score_0a10: 0,\n    };\n  });\n\n  respostas.forEach((resposta) => {\n    if (scores[resposta.dominioId]) {\n      scores[resposta.dominioId].total += resposta.pontuacao_item;\n    }\n  });\n\n  Object.keys(scores).forEach((dominioId) => {\n    const dominio = scores[dominioId];\n    if (dominio.total > 0 && dominio.pontuacao_maxima > 0) {\n      dominio.score_0a10 = (dominio.total / dominio.pontuacao_maxima) * 10;\n    }\n  });\n\n  return scores;\n}\n\nexport function calcularScoreTotal(scoresPorDominio: ScoresPorDominio): number {\n  const scores = Object.values(scoresPorDominio).map((s) => s.score_0a10);\n  if (scores.length === 0) return 0;\n  return scores.reduce((acc, score) => acc + score, 0) / scores.length;\n}\n"],"names":[],"mappings":";;;;;;;;AAiCO,SAAS,sBACd,WAAmB,EACnB,oBAA4B;IAE5B,IAAI;QACF,MAAM,QAAwB,KAAK,KAAK,CAAC;QAEzC,OAAQ,MAAM,IAAI;YAChB,KAAK;gBAAU;oBACb,MAAM,iBAAiB,WAAW;oBAClC,IAAI,MAAM,iBAAiB,OAAO;oBAElC,KAAK,MAAM,SAAS,MAAM,MAAM,CAAE;wBAChC,IAAI,MAAM,GAAG,KAAK,aAAa,kBAAkB,MAAM,GAAG,EAAE;4BAC1D,OAAO,MAAM,MAAM;wBACrB;wBACA,IAAI,MAAM,KAAK,KAAK,aAAa,iBAAiB,MAAM,KAAK,EAAE;4BAC7D,OAAO,MAAM,MAAM;wBACrB;oBACF;oBACA,OAAO;gBACT;YAEA,KAAK;gBAAW;oBACd,MAAM,QAAQ,YAAY,WAAW,GAAG,IAAI;oBAC5C,IAAI,UAAU,SAAS,UAAU,OAAO,UAAU,UAAU,UAAU,KAAK;wBACzE,OAAO,MAAM,GAAG;oBAClB;oBACA,OAAO,MAAM,GAAG;gBAClB;YAEA,KAAK;gBAAQ;oBACX,OAAO,MAAM,IAAI,CAAC,YAAY,IAAI;gBACpC;YAEA,KAAK;gBAAuB;oBAC1B,MAAM,QAAQ,YAAY,WAAW,GAAG,IAAI;oBAC5C,OAAO,UAAU,MAAM,OAAO,CAAC,WAAW,KACtC,MAAM,cAAc,GACpB,MAAM,aAAa;gBACzB;YAEA;gBACE,QAAQ,KAAK,CAAC,4CAA4C,AAAC,MAAc,IAAI;gBAC7E,OAAO;QACX;IACF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,+BAA+B;QAC7C,OAAO;IACT;AACF;AAeO,SAAS,yBACd,SAA+B,EAC/B,QAAyD;IAEzD,MAAM,SAA2B,CAAC;IAElC,SAAS,OAAO,CAAC,CAAC;QAChB,MAAM,CAAC,QAAQ,EAAE,CAAC,GAAG;YACnB,OAAO;YACP,kBAAkB,QAAQ,gBAAgB;YAC1C,YAAY;QACd;IACF;IAEA,UAAU,OAAO,CAAC,CAAC;QACjB,IAAI,MAAM,CAAC,SAAS,SAAS,CAAC,EAAE;YAC9B,MAAM,CAAC,SAAS,SAAS,CAAC,CAAC,KAAK,IAAI,SAAS,cAAc;QAC7D;IACF;IAEA,OAAO,IAAI,CAAC,QAAQ,OAAO,CAAC,CAAC;QAC3B,MAAM,UAAU,MAAM,CAAC,UAAU;QACjC,IAAI,QAAQ,KAAK,GAAG,KAAK,QAAQ,gBAAgB,GAAG,GAAG;YACrD,QAAQ,UAAU,GAAG,AAAC,QAAQ,KAAK,GAAG,QAAQ,gBAAgB,GAAI;QACpE;IACF;IAEA,OAAO;AACT;AAEO,SAAS,mBAAmB,gBAAkC;IACnE,MAAM,SAAS,OAAO,MAAM,CAAC,kBAAkB,GAAG,CAAC,CAAC,IAAM,EAAE,UAAU;IACtE,IAAI,OAAO,MAAM,KAAK,GAAG,OAAO;IAChC,OAAO,OAAO,MAAM,CAAC,CAAC,KAAK,QAAU,MAAM,OAAO,KAAK,OAAO,MAAM;AACtE"}},
    {"offset": {"line": 264, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/app/api/admin/avaliacao/%5BalunoId%5D/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from 'next/server';\nimport { prisma } from '@/lib/prisma';\nimport { getUserFromToken } from '@/lib/auth';\nimport { calcularPontuacaoItem, calcularScoresPorDominio, calcularScoreTotal } from '@/lib/pontuacao';\n\nexport async function GET(\n  request: NextRequest,\n  { params }: { params: Promise<{ alunoId: string }> }\n) {\n  try {\n    const user = await getUserFromToken(request);\n    if (!user || user.perfil !== 'ADMIN') {\n      return NextResponse.json({ error: 'Não autorizado' }, { status: 401 });\n    }\n\n    const { alunoId } = await params;\n    const searchParams = request.nextUrl.searchParams;\n    const mes = Number(searchParams.get('mes'));\n    const ano = Number(searchParams.get('ano'));\n\n    const avaliacao = await prisma.avaliacao.findFirst({\n      where: {\n        alunoId,\n        mes_referencia: mes,\n        ano_referencia: ano,\n      },\n      include: {\n        respostas: true,\n      },\n    });\n\n    if (!avaliacao) {\n      return NextResponse.json({ error: 'Avaliação não encontrada' }, { status: 404 });\n    }\n\n    return NextResponse.json(avaliacao);\n  } catch (error) {\n    console.error('Erro ao buscar avaliação:', error);\n    return NextResponse.json({ error: 'Erro interno' }, { status: 500 });\n  }\n}\n\nexport async function POST(\n  request: NextRequest,\n  { params }: { params: Promise<{ alunoId: string }> }\n) {\n  try {\n    const user = await getUserFromToken(request);\n    if (!user || user.perfil !== 'ADMIN') {\n      return NextResponse.json({ error: 'Não autorizado' }, { status: 401 });\n    }\n\n    const { alunoId, templateId, mes_referencia, ano_referencia, data_aplicacao, respostas } =\n      await request.json();\n\n    const aluno = await prisma.aluno.findUnique({\n      where: { id: alunoId },\n      include: { turma: true },\n    });\n\n    if (!aluno) {\n      return NextResponse.json({ error: 'Aluno não encontrado' }, { status: 404 });\n    }\n\n    const template = await prisma.templateAvaliacao.findUnique({\n      where: { id: templateId },\n      include: {\n        itens: {\n          include: {\n            dominio: true,\n          },\n        },\n      },\n    });\n\n    if (!template) {\n      return NextResponse.json({ error: 'Template não encontrado' }, { status: 404 });\n    }\n\n    if (!template.ativo) {\n      return NextResponse.json(\n        { error: 'O template selecionado não está mais ativo' },\n        { status: 400 }\n      );\n    }\n\n    if (template.mes_referencia !== mes_referencia || template.ano_referencia !== ano_referencia) {\n      return NextResponse.json(\n        { error: 'Template não corresponde ao mês/ano da avaliação' },\n        { status: 400 }\n      );\n    }\n\n    const avaliacaoExistente = await prisma.avaliacao.findFirst({\n      where: {\n        alunoId,\n        mes_referencia,\n        ano_referencia,\n      },\n    });\n\n    if (avaliacaoExistente) {\n      await prisma.respostaItem.deleteMany({\n        where: { avaliacaoId: avaliacaoExistente.id },\n      });\n    }\n\n    const respostasComPontuacao = template.itens\n      .filter((item) => respostas[item.id])\n      .map((item) => {\n        const valor_bruto = respostas[item.id];\n        const pontuacao = calcularPontuacaoItem(valor_bruto, item.regra_pontuacao);\n        const valor_numerico = parseFloat(valor_bruto);\n\n        return {\n          itemId: item.id,\n          dominioId: item.dominioId,\n          valor_bruto,\n          valor_numerico,\n          pontuacao_item: pontuacao,\n        };\n      });\n\n    const scores = calcularScoresPorDominio(template.itens, respostasComPontuacao);\n    const scoreTotal = calcularScoreTotal(scores);\n\n    const scoresToSave: any = {\n      score_total: scoreTotal,\n    };\n\n    scores.forEach(({ dominio, score }) => {\n      const nomeDominio = dominio.nome.toLowerCase();\n\n      if (nomeDominio.includes('fluência') || nomeDominio.includes('fluencia')) {\n        scoresToSave.score_fluencia = score.total;\n        scoresToSave.score_fluencia_0a10 = score.score_0a10;\n      } else if (nomeDominio.includes('cultura')) {\n        scoresToSave.score_cultura = score.total;\n        scoresToSave.score_cultura_0a10 = score.score_0a10;\n      } else if (nomeDominio.includes('interpretação') || nomeDominio.includes('interpretacao')) {\n        scoresToSave.score_interpretacao = score.total;\n        scoresToSave.score_interpretacao_0a10 = score.score_0a10;\n      } else if (nomeDominio.includes('atenção') || nomeDominio.includes('atencao')) {\n        scoresToSave.score_atencao = score.total;\n        scoresToSave.score_atencao_0a10 = score.score_0a10;\n      } else if (nomeDominio.includes('auto')) {\n        scoresToSave.score_auto_percepcao = score.total;\n        scoresToSave.score_auto_percepcao_0a10 = score.score_0a10;\n      }\n    });\n\n    const avaliacaoData = {\n      alunoId,\n      turmaId: aluno.turmaId,\n      templateId,\n      mes_referencia,\n      ano_referencia,\n      data_aplicacao: data_aplicacao ? new Date(data_aplicacao) : new Date(),\n      status: 'CONCLUIDA' as const,\n      ...scoresToSave,\n    };\n\n    const avaliacao = avaliacaoExistente\n      ? await prisma.avaliacao.update({\n          where: { id: avaliacaoExistente.id },\n          data: avaliacaoData,\n        })\n      : await prisma.avaliacao.create({\n          data: avaliacaoData,\n        });\n\n    await prisma.respostaItem.createMany({\n      data: respostasComPontuacao.map((resp) => ({\n        avaliacaoId: avaliacao.id,\n        itemId: resp.itemId,\n        dominioId: resp.dominioId,\n        valor_bruto: resp.valor_bruto,\n        valor_numerico: resp.valor_numerico,\n        pontuacao_item: resp.pontuacao_item,\n      })),\n    });\n\n    return NextResponse.json({ success: true, avaliacaoId: avaliacao.id });\n  } catch (error) {\n    console.error('Erro ao salvar avaliação:', error);\n    return NextResponse.json(\n      { error: 'Erro ao salvar avaliação' },\n      { status: 500 }\n    );\n  }\n}\n"],"names":[],"mappings":"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"}}]
}